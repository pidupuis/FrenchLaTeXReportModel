%% 
%% Created by Pierre DUPUIS - 2012-2013
%% Package which allow the user to display source codes inside his document.
%% No programming language is specified here to allow the user to use any of them.
%%
%%

%% Informations générales
\NeedsTeXFormat{LaTeX2e}[1999/01/01]
\ProvidesPackage{sourcecode}[2013]

%% Chargement des extensions
\RequirePackage{picture}
\RequirePackage{xcolor}
\RequirePackage{ifthen}
\RequirePackage{calc}
\RequirePackage{graphicx}
\RequirePackage{pstricks}

%% Déclaration des options
\DeclareOption*{}%% Ne rien faire quand une option est inconnue
\ProcessOptions

% MESSAGE PANE
\newcommand*\messagePane[3]{% 
	\begin{center}
		\phantom \\
		\hspace*{-10mm}
		\setlength{\fboxsep}{15pt}
		\fcolorbox{#1!80}{#1!20}{
			\hspace*{-5mm}
			\begin{array}{l}
				\includegraphics[scale=0.5]{{#2}}
			\end{array}
			\newlength{\myl}
			\settowidth{\myl}{{#3}}
			\ifthenelse{\lengthtest{\myl > 400pt}}{
				\parbox{\textwidth}{{#3}}
			}{
				\makebox{\textwidth}{{#3}}
			}
		}
	\end{center}
	\par
}%

% ERROR PANE
\newcommand*\errorPane[1]{% 
	\messagePane{red}{img/error.png}{{#1}}
}%

% WARNING PANE
\newcommand*\warningPane[1]{% 
	\messagePane{orange}{img/warning.png}{{#1}}	
}%

% SUCCESS PANE
\newcommand*\successPane[1]{% 
	\messagePane{green}{img/success.png}{{#1}}	
}%

% INFO PANE
\newcommand*\infoPane[1]{% 
	\messagePane{blue}{img/info.png}{{#1}}
}%

%% Fin du package
\endinput


